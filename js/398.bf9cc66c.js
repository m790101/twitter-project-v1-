"use strict";(self["webpackChunktwitter_project_v1"]=self["webpackChunktwitter_project_v1"]||[]).push([[398],{3216:function(t,e,a){a.d(e,{Z:function(){return m}});var s=function(){var t=this,e=t._self._c;return e("form",{staticClass:"form d-flex flex-column align-items-center",attrs:{id:"Form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleForm.apply(null,arguments)}}},[e("div",{staticClass:"form-control d-flex flex-column"},[e("label",{staticClass:"form-label",attrs:{for:"account"}},[t._v("帳號")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.UserData.account,expression:"UserData.account"}],staticClass:"form-input form:hover",attrs:{id:"account",name:"account",type:"text",placeholder:"請輸入帳號",autocomplete:"account",required:"",autofocus:""},domProps:{value:t.UserData.account},on:{input:function(e){e.target.composing||t.$set(t.UserData,"account",e.target.value)}}})]),e("div",{staticClass:"form-control d-flex flex-column"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("名稱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.UserData.name,expression:"UserData.name"}],staticClass:"form-input",attrs:{id:"name",name:"name",type:"text",placeholder:"請輸入使用者名稱",autocomplete:"name",required:""},domProps:{value:t.UserData.name},on:{input:function(e){e.target.composing||t.$set(t.UserData,"name",e.target.value)}}})]),e("div",{staticClass:"error__section d-flex justify-content-between w-100"},[t.countName>50?e("p",{staticClass:"error__section__handler fs-12"},[t._v("字數超出上限!")]):t._e(),t.countName>50?e("p",{staticClass:"fs-12"},[t._v(t._s(t.countName)+"/50")]):t._e()]),e("div",{staticClass:"form-control d-flex flex-column"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.UserData.email,expression:"UserData.email"}],staticClass:"form-input",attrs:{id:"email",name:"email",type:"text",placeholder:"請輸入Eamil",autocomplete:"email",required:""},domProps:{value:t.UserData.email},on:{input:function(e){e.target.composing||t.$set(t.UserData,"email",e.target.value)}}})]),e("div",{staticClass:"form-control d-flex flex-column"},[e("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.UserData.password,expression:"UserData.password"}],staticClass:"form-input",attrs:{id:"password",name:"password",type:"password",placeholder:"請設定密碼",autocomplete:"new-password",required:""},domProps:{value:t.UserData.password},on:{input:function(e){e.target.composing||t.$set(t.UserData,"password",e.target.value)}}})]),e("div",{staticClass:"form-control d-flex flex-column"},[e("label",{staticClass:"form-label",attrs:{for:"password-check"}},[t._v("密碼確認")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.UserData.checkPassword,expression:"UserData.checkPassword"}],staticClass:"form-input",attrs:{id:"password-check",name:"checkPassword",type:"password",placeholder:"請再次輸入密碼",autocomplete:"new-password",required:""},domProps:{value:t.UserData.checkPassword},on:{input:function(e){e.target.composing||t.$set(t.UserData,"checkPassword",e.target.value)}}})])])},r=[],i=a(6163),o={props:{initialUserSetting:{type:Object,default:()=>({id:"",account:"",name:"",email:"",password:"",checkPassword:""})}},data(){return{UserData:{}}},created(){this.fetchUserData()},methods:{fetchUserData(){this.UserData={...this.initialUserSetting}},handleForm(){if(!this.UserData.account)return void i.F.fire({icon:"warning",title:"請填入帳號"});if(!this.UserData.name)return void i.F.fire({icon:"warning",title:"請填入名稱 "});if(this.UserData.account.trim().length<=0||this.UserData.name.trim().length<=0)return void i.F.fire({icon:"warning",title:"所有欄位皆須填寫"});if(this.UserData.name.length>50)return void i.F.fire({icon:"warning",title:"名稱不能大於50個字"});if(!this.UserData.email)return void i.F.fire({icon:"warning",title:"請填入Email"});if(!this.UserData.password)return void i.F.fire({icon:"warning",title:"請填入密碼"});if(!this.UserData.checkPassword)return void i.F.fire({icon:"warning",title:"請填入確認密碼"});if(this.UserData.checkPassword!==this.UserData.password)return this.UserData.checkPassword="",this.UserData.password="",void i.F.fire({icon:"warning",title:"請再次確認密碼"});const t=this.UserData;this.$emit("afterSubmit",t)}},watch:{initialUserSetting(){this.UserData={...this.initialUserSetting}}},computed:{countName(){return this.UserData.name.length}}},n=o,c=a(1001),l=(0,c.Z)(n,s,r,!1,null,"5f72b26c",null),m=l.exports},2398:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("main",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"container"},[t._m(0),e("SettingForm",{ref:"formRef",on:{afterSubmit:t.handleAfterSubmit}}),e("div",{staticClass:"footer d-flex flex-column align-items-center"},[e("button",{staticClass:"footer__btn btn-main btn-main:hover btn-main:active",attrs:{type:"submit",disabled:t.isProcessing},on:{click:t.getData}},[t._v(" 註冊 ")]),e("router-link",{staticClass:"footer__cancel",attrs:{to:"login"}},[e("span",[t._v("取消 ")])])],1)],1)},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title d-flex flex-column align-items-center"},[e("img",{staticClass:"title__image",attrs:{src:a(6949),alt:"logo"}}),e("h3",{staticClass:"title__word"},[t._v("建立你的帳號")])])}],i=(a(7658),a(3216)),o=a(6163),n={create({account:t,name:e,email:a,password:s,checkPassword:r}){return o.l.post("/users",{account:t,name:e,email:a,password:s,checkPassword:r})}},c={components:{SettingForm:i.Z},data(){return{isLoading:!1,isProcessing:!1,userData:{id:-1,account:"",name:"",email:"",password:"",checkPassword:""}}},methods:{getData(){this.$refs.formRef.handleForm()},async handleAfterSubmit(t){this.userData={...t},this.isProcessing=!0;try{await n.create({account:this.userData.account.trim(),name:this.userData.name.trim(),email:this.userData.email.trim(),password:this.userData.password,checkPassword:this.userData.checkPassword});o.F.fire({icon:"success",title:"註冊成功，請重新登入"}),this.$router.push({name:"logIn"})}catch(e){this.isProcessing=!1,console.log("errorMess",e.response.data);const t=e.response.data.message;"Error: 所有欄位皆須填寫"===t?o.F.fire({icon:"warning",title:"所有欄位皆須填寫"}):"Error: account 已重複註冊！"===t?o.F.fire({icon:"warning",title:"account 已重複註冊！"}):"Error: email 已重複註冊！"===t?o.F.fire({icon:"warning",title:"email 已重複註冊！"}):o.F.fire({icon:"warning",title:"無法註冊請稍後再試！"})}}}},l=c,m=a(1001),u=(0,m.Z)(l,s,r,!1,null,"de9b3b16",null),d=u.exports}}]);
//# sourceMappingURL=398.bf9cc66c.js.map