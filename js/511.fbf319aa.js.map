{"version":3,"file":"js/511.fbf319aa.js","mappings":"mKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAACE,YAAY,6CAA6CC,MAAM,CAAC,GAAK,OAAO,aAAe,OAAOC,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBR,EAAIS,WAAWC,MAAM,KAAMC,UAAW,IAAG,CAACT,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,IAAM,YAAY,CAACL,EAAIY,GAAG,QAAQV,EAAG,QAAQ,CAACW,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAIiB,SAASC,QAASC,WAAW,qBAAqBf,YAAY,wBAAwBC,MAAM,CAAC,GAAK,UAAU,KAAO,UAAU,KAAO,OAAO,YAAc,QAAQ,aAAe,UAAU,SAAW,GAAG,UAAY,IAAIe,SAAS,CAAC,MAASpB,EAAIiB,SAASC,SAAUZ,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,WAAiBtB,EAAIuB,KAAKvB,EAAIiB,SAAU,UAAWV,EAAOc,OAAOL,MAAO,OAAMd,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,IAAM,SAAS,CAACL,EAAIY,GAAG,QAAQV,EAAG,QAAQ,CAACW,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAIiB,SAASH,KAAMK,WAAW,kBAAkBf,YAAY,aAAaC,MAAM,CAAC,GAAK,OAAO,KAAO,OAAO,KAAO,OAAO,YAAc,WAAW,aAAe,OAAO,SAAW,IAAIe,SAAS,CAAC,MAASpB,EAAIiB,SAASH,MAAOR,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,WAAiBtB,EAAIuB,KAAKvB,EAAIiB,SAAU,OAAQV,EAAOc,OAAOL,MAAO,OAAMd,EAAG,MAAM,CAACE,YAAY,uDAAuD,CAAEJ,EAAIwB,UAAY,GAAItB,EAAG,IAAI,CAACE,YAAY,iCAAiC,CAACJ,EAAIY,GAAG,aAAaZ,EAAIyB,KAAMzB,EAAIwB,UAAY,GAAItB,EAAG,IAAI,CAACE,YAAY,SAAS,CAACJ,EAAIY,GAAGZ,EAAI0B,GAAG1B,EAAIwB,WAAW,SAASxB,EAAIyB,OAAOvB,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,IAAM,UAAU,CAACL,EAAIY,GAAG,WAAWV,EAAG,QAAQ,CAACW,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAIiB,SAASU,MAAOR,WAAW,mBAAmBf,YAAY,aAAaC,MAAM,CAAC,GAAK,QAAQ,KAAO,QAAQ,KAAO,OAAO,YAAc,WAAW,aAAe,QAAQ,SAAW,IAAIe,SAAS,CAAC,MAASpB,EAAIiB,SAASU,OAAQrB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,WAAiBtB,EAAIuB,KAAKvB,EAAIiB,SAAU,QAASV,EAAOc,OAAOL,MAAO,OAAMd,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,IAAM,aAAa,CAACL,EAAIY,GAAG,QAAQV,EAAG,QAAQ,CAACW,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAIiB,SAASW,SAAUT,WAAW,sBAAsBf,YAAY,aAAaC,MAAM,CAAC,GAAK,WAAW,KAAO,WAAW,KAAO,WAAW,YAAc,QAAQ,aAAe,eAAe,SAAW,IAAIe,SAAS,CAAC,MAASpB,EAAIiB,SAASW,UAAWtB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,WAAiBtB,EAAIuB,KAAKvB,EAAIiB,SAAU,WAAYV,EAAOc,OAAOL,MAAO,OAAMd,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,IAAM,mBAAmB,CAACL,EAAIY,GAAG,UAAUV,EAAG,QAAQ,CAACW,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAIiB,SAASY,cAAeV,WAAW,2BAA2Bf,YAAY,aAAaC,MAAM,CAAC,GAAK,iBAAiB,KAAO,gBAAgB,KAAO,WAAW,YAAc,UAAU,aAAe,eAAe,SAAW,IAAIe,SAAS,CAAC,MAASpB,EAAIiB,SAASY,eAAgBvB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,WAAiBtB,EAAIuB,KAAKvB,EAAIiB,SAAU,gBAAiBV,EAAOc,OAAOL,MAAO,QACz1G,EACGc,EAAkB,G,UCqFtB,GACAC,MAAAA,CAEAC,mBAAAA,CACAC,KAAAA,OACAC,QAAAA,KAAAA,CACAC,GAAAA,GACAjB,QAAAA,GACAJ,KAAAA,GACAa,MAAAA,GACAC,SAAAA,GACAC,cAAAA,OAIAO,OACA,OACAnB,SAAAA,CAAAA,EAEA,EACAoB,UACA,oBACA,EAEAC,QAAAA,CACAC,gBACA,0CACA,EACA9B,aACA,0BAKA,YAJA+B,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,UAGA,uBAKA,YAJAF,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,WAGA,+EAKA,YAJAF,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,aAIA,gCAKA,YAJAF,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,eAGA,wBAKA,YAJAF,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,aAGA,2BAKA,YAJAF,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,UAGA,gCAKA,YAJAF,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,YAGA,wDAQA,OAPA,+BACA,+BACAF,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,YAKA,sBAGA,2BACA,GAEAC,MAAAA,CACAX,qBACA,0CACA,GAEAY,SAAAA,CACApB,YACA,gCACA,ICvL2P,I,UCQvPqB,GAAY,OACd,EACA9C,EACA+B,GACA,EACA,KACA,WACA,MAIF,EAAee,EAAiB,O,oECnBhC,IAAI9C,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,WAAW,GAAGA,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,KAAK,CAACE,YAAY,SAAS,CAACJ,EAAIY,GAAG,UAAUV,EAAG,cAAc,CAAC4C,IAAI,UAAUzC,MAAM,CAAC,mBAAqBL,EAAI+C,UAAUzC,GAAG,CAAC,YAAcN,EAAIgD,qBAAqB9C,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,SAAS,CAACE,YAAY,8CAA8CC,MAAM,CAAC,KAAO,SAAS,SAAWL,EAAIiD,cAAc3C,GAAG,CAAC,MAAQN,EAAIkD,UAAU,CAAClD,EAAIY,GAAG,aAAa,MACjoB,EACGkB,EAAkB,G,wCCmCtB,GACAqB,WAAAA,CACAC,OADA,IAEAC,YAAAA,EAAAA,GAEAjB,OACA,OACAW,SAAAA,CAAAA,EACAE,cAAAA,EAEA,EACAZ,UACA,SAAAF,GAAA,mBACAmB,QAAAA,IAAAA,GACA,yBACA,EACAhB,QAAAA,CACA,mBACA,IACA,WAAAF,SAAA,aAAAD,OACAmB,QAAAA,IAAAA,GACA,oBAOA,CANA,SACAA,QAAAA,IAAAA,iBAAAA,GACAd,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,WAEA,CACA,EAGAQ,UACA,+BACA,EAEA,2BACA,qBACA,qBACA,IACA,WAAAd,SAAA,aACAD,GAAAA,KAAAA,SAAAA,GACAjB,QAAAA,KAAAA,SAAAA,QAAAA,OACAJ,KAAAA,KAAAA,SAAAA,KAAAA,OACAa,MAAAA,KAAAA,SAAAA,MAAAA,OACAC,SAAAA,KAAAA,SAAAA,SACAC,cAAAA,KAAAA,SAAAA,gBAGAW,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,SAEA,oBA2BA,CAzBA,SACA,qBACA,gCACAY,QAAAA,IAAAA,EAAAA,SAAAA,KAAAA,SACA,yBACAd,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,mBAEA,uBACAF,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,iBAEA,sBACAF,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,cAGAF,EAAAA,EAAAA,KAAAA,CACAC,KAAAA,UACAC,MAAAA,aAGA,CACA,ICtHuP,I,UCQnPG,GAAY,OACd,EACA9C,EACA+B,GACA,EACA,KACA,WACA,MAIF,EAAee,EAAiB,O","sources":["webpack://twitter-project-v1/./src/components/SettingForm.vue","webpack://twitter-project-v1/src/components/SettingForm.vue","webpack://twitter-project-v1/./src/components/SettingForm.vue?f4f9","webpack://twitter-project-v1/./src/components/SettingForm.vue?35a6","webpack://twitter-project-v1/./src/views/Setting.vue","webpack://twitter-project-v1/src/views/Setting.vue","webpack://twitter-project-v1/./src/views/Setting.vue?4d91","webpack://twitter-project-v1/./src/views/Setting.vue?9f9b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{staticClass:\"form d-flex flex-column align-items-center\",attrs:{\"id\":\"Form\",\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.handleForm.apply(null, arguments)}}},[_c('div',{staticClass:\"form-control d-flex flex-column\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"account\"}},[_vm._v(\"帳號\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.UserData.account),expression:\"UserData.account\"}],staticClass:\"form-input form:hover\",attrs:{\"id\":\"account\",\"name\":\"account\",\"type\":\"text\",\"placeholder\":\"請輸入帳號\",\"autocomplete\":\"account\",\"required\":\"\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.UserData.account)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.UserData, \"account\", $event.target.value)}}})]),_c('div',{staticClass:\"form-control d-flex flex-column\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"name\"}},[_vm._v(\"名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.UserData.name),expression:\"UserData.name\"}],staticClass:\"form-input\",attrs:{\"id\":\"name\",\"name\":\"name\",\"type\":\"text\",\"placeholder\":\"請輸入使用者名稱\",\"autocomplete\":\"name\",\"required\":\"\"},domProps:{\"value\":(_vm.UserData.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.UserData, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"error__section d-flex justify-content-between w-100\"},[(_vm.countName > 50)?_c('p',{staticClass:\"error__section__handler fs-12\"},[_vm._v(\"字數超出上限!\")]):_vm._e(),(_vm.countName > 50)?_c('p',{staticClass:\"fs-12\"},[_vm._v(_vm._s(_vm.countName)+\"/50\")]):_vm._e()]),_c('div',{staticClass:\"form-control d-flex flex-column\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.UserData.email),expression:\"UserData.email\"}],staticClass:\"form-input\",attrs:{\"id\":\"email\",\"name\":\"email\",\"type\":\"text\",\"placeholder\":\"請輸入Eamil\",\"autocomplete\":\"email\",\"required\":\"\"},domProps:{\"value\":(_vm.UserData.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.UserData, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-control d-flex flex-column\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"password\"}},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.UserData.password),expression:\"UserData.password\"}],staticClass:\"form-input\",attrs:{\"id\":\"password\",\"name\":\"password\",\"type\":\"password\",\"placeholder\":\"請設定密碼\",\"autocomplete\":\"new-password\",\"required\":\"\"},domProps:{\"value\":(_vm.UserData.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.UserData, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"form-control d-flex flex-column\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"password-check\"}},[_vm._v(\"密碼確認\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.UserData.checkPassword),expression:\"UserData.checkPassword\"}],staticClass:\"form-input\",attrs:{\"id\":\"password-check\",\"name\":\"checkPassword\",\"type\":\"password\",\"placeholder\":\"請再次輸入密碼\",\"autocomplete\":\"new-password\",\"required\":\"\"},domProps:{\"value\":(_vm.UserData.checkPassword)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.UserData, \"checkPassword\", $event.target.value)}}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form\n    id=\"Form\"\n    class=\"form d-flex flex-column align-items-center\"\n    autocomplete=\"off\"\n    @submit.prevent=\"handleForm\"\n  >\n    <div class=\"form-control d-flex flex-column\">\n      <label for=\"account\" class=\"form-label\">帳號</label>\n      <input\n        id=\"account\"\n        name=\"account\"\n        type=\"text\"\n        class=\"form-input form:hover\"\n        placeholder=\"請輸入帳號\"\n        autocomplete=\"account\"\n        required\n        autofocus\n        v-model=\"UserData.account\"\n      />\n    </div>\n\n    <div class=\"form-control d-flex flex-column\">\n      <label for=\"name\" class=\"form-label\">名稱</label>\n      <input\n        id=\"name\"\n        name=\"name\"\n        type=\"text\"\n        class=\"form-input\"\n        placeholder=\"請輸入使用者名稱\"\n        autocomplete=\"name\"\n        required\n        v-model=\"UserData.name\"\n      />\n    </div>\n    <div class=\"error__section d-flex justify-content-between w-100\">\n      <p class=\"error__section__handler fs-12\" v-if=\"countName > 50\">字數超出上限!</p>\n      <p class=\"fs-12\" v-if=\"countName > 50\">{{ countName }}/50</p>\n    </div>\n\n    <div class=\"form-control d-flex flex-column\">\n      <label for=\"email\" class=\"form-label\">Email</label>\n      <input\n        id=\"email\"\n        name=\"email\"\n        type=\"text\"\n        class=\"form-input\"\n        placeholder=\"請輸入Eamil\"\n        autocomplete=\"email\"\n        required\n        v-model=\"UserData.email\"\n      />\n    </div>\n\n    <div class=\"form-control d-flex flex-column\">\n      <label for=\"password\" class=\"form-label\">密碼</label>\n      <input\n        id=\"password\"\n        name=\"password\"\n        type=\"password\"\n        class=\"form-input\"\n        placeholder=\"請設定密碼\"\n        autocomplete=\"new-password\"\n        required\n        v-model=\"UserData.password\"\n      />\n    </div>\n\n    <div class=\"form-control d-flex flex-column\">\n      <label for=\"password-check\" class=\"form-label\">密碼確認</label>\n      <input\n        id=\"password-check\"\n        name=\"checkPassword\"\n        type=\"password\"\n        class=\"form-input\"\n        placeholder=\"請再次輸入密碼\"\n        autocomplete=\"new-password\"\n        required\n        v-model=\"UserData.checkPassword\"\n      />\n    </div>\n  </form>\n</template>\n\n<script>\nimport { Toast } from \"./../utils/helpers\";\n\nexport default {\n  props: {\n    //預設值，如果沒有傳資料進來，就帶入預設值\n    initialUserSetting: {\n      type: Object,\n      default: () => ({\n        id: \"\",\n        account: \"\",\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        checkPassword: \"\",\n      }),\n    },\n  },\n  data() {\n    return {\n      UserData: {},\n    };\n  },\n  created() {\n    this.fetchUserData();\n  },\n\n  methods: {\n    fetchUserData() {\n      this.UserData = { ...this.initialUserSetting };\n    },\n    handleForm() {\n      if (!this.UserData.account ) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"請填入帳號\",\n        });\n        return;\n      } else if (!this.UserData.name) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"請填入名稱 \",\n        });\n        return;\n      }else if(this.UserData.account.trim().length <= 0 ||this.UserData.name.trim().length <= 0 ){\n        Toast.fire({\n          icon: \"warning\",\n          title: \"所有欄位皆須填寫\",\n        })\n        return\n        }\n       else if (this.UserData.name.length > 50) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"名稱不能大於50個字\",\n        });\n        return;\n      } else if (!this.UserData.email) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"請填入Email\",\n        });\n        return;\n      } else if (!this.UserData.password) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"請填入密碼\",\n        });\n        return;\n      } else if (!this.UserData.checkPassword) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"請填入確認密碼\",\n        });\n        return;\n      } else if (this.UserData.checkPassword !== this.UserData.password) {\n        this.UserData.checkPassword = \"\";\n        this.UserData.password = \"\";\n        Toast.fire({\n          icon: \"warning\",\n          title: \"請再次確認密碼\",\n        });\n\n        return;\n      }\n      const formData = this.UserData;\n\n      //將表單資料傳到父層 ，由父層傳到API\n      this.$emit(\"afterSubmit\", formData);\n    },\n  },\n  watch: {\n    initialUserSetting() {\n      this.UserData = { ...this.initialUserSetting };\n    },\n  },\n  computed: {\n    countName() {\n      return this.UserData.name.length;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.form {\n  margin: 0px 23px;\n}\n.error__section{\n  margin-top: 4px;\n} \n.error__section__handler {\n  color: var(--error-color);\n  width: 100%;  \n  line-height: 20px;\n}\n\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SettingForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SettingForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SettingForm.vue?vue&type=template&id=5f72b26c&scoped=true&\"\nimport script from \"./SettingForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SettingForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SettingForm.vue?vue&type=style&index=0&id=5f72b26c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f72b26c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('main',{staticClass:\"container d-flex\"},[_c('div',{staticClass:\"container__left\"},[_c('Navbar')],1),_c('div',{staticClass:\"container__right d-flex\"},[_c('div',{staticClass:\"section\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"帳號設定\")]),_c('SettingForm',{ref:\"formRef\",attrs:{\"initialUserSetting\":_vm.userData},on:{\"afterSubmit\":_vm.handleAfterSubmit}}),_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('button',{staticClass:\"btn btn-main btn-main:hover btn-main:active\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing},on:{\"click\":_vm.getData}},[_vm._v(\" 儲存 \")])])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <main class=\"container d-flex\">\n    <div class=\"container__left\">\n      <Navbar />\n    </div>\n    <div class=\"container__right d-flex\">\n      <div class=\"section\">\n        <h4 class=\"title\">帳號設定</h4>\n        \n        <SettingForm        \n          ref=\"formRef\"\n          :initialUserSetting=\"userData\"\n          @afterSubmit=\"handleAfterSubmit\"\n          \n        ></SettingForm>\n        \n        <div class=\"d-flex justify-content-end\">\n          <button\n            class=\"btn btn-main btn-main:hover btn-main:active\"\n            type=\"submit\"\n            v-on:click=\"getData\"\n            :disabled=\"isProcessing\"\n          >\n            儲存\n          </button>\n        </div>\n      </div>\n    </div>\n  </main>\n</template>\n\n<script>\nimport SettingForm from \"./../components/SettingForm.vue\";\nimport Navbar from \"./../components/Navbar.vue\";\nimport userApi from \"./../apis/user\";\nimport { Toast } from \"./../utils/helpers\";\n\nexport default {\n  components: {\n    Navbar,\n    SettingForm,\n  },\n  data() {\n    return {\n      userData: {},\n      isProcessing: false,\n    };\n  },\n  created() {\n    const { id } = this.$route.params;\n    console.log(id);\n    this.fetchData(Number(id));\n  },\n  methods: {\n    async fetchData(id) {\n      try {\n        const { data } = await userApi.getUser( {id} ); \n        console.log(data);\n        this.userData = { ...data };\n      } catch (error) {\n        console.log('getUser error:',error);\n        Toast.fire({\n          icon: \"warning\",\n          title: \"無法讀取使用者\",\n        });\n      }\n    },\n\n    // 呼叫子元件的handleForm方法\n    getData() {\n      this.$refs.formRef.handleForm();\n    },\n    //子元件傳入\n    async handleAfterSubmit(formData) {\n      this.userData = { ...formData };\n      this.isProcessing = true\n      try {       \n       const { data } = await userApi.putUser({\n        id:this.userData.id,\n        account: this.userData.account.trim(),\n          name: this.userData.name.trim(),\n          email: this.userData.email.trim(),\n          password: this.userData.password,\n          checkPassword: this.userData.checkPassword,\n       });        \n       \n       Toast.fire({\n          icon: \"success\",\n          title: \"修改成功\",\n        });\n        this.isProcessing = false \n\n      } catch (error) {\n        this.isProcessing = false               \n        const errorMessage = error.response.data.message;\n        console.log( error.response.data.message)\n        if (errorMessage === \"Error: account 已存在\") {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"account 已重複註冊！\",\n          });\n        }else if(errorMessage === \"Error: email 已存在\"){\n          Toast.fire({\n            icon: \"warning\",\n            title: \"email 已重複註冊！\",\n          });\n        }else if(errorMessage === \"Error: 所有欄位皆須填寫\"){\n          Toast.fire({\n            icon: \"warning\",\n            title: \"所有欄位皆須填寫！\",\n          });\n        }else {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"無法修改請稍後再試\",\n        })\n      }\n      }\n    },\n    \n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.section {\n  width: 639px;\n  position: relative;\n  border: 1px solid #e6ecf0;\n  margin-left: 24px;\n}\n\n.title {\n  padding: 24px 0 24px 24px;\n  font-weight: 700;\n  border-bottom: 1px solid #e6ecf0;\n}\n\n.btn {\n  margin: 8px 23px 25px 0px;\n  padding: 8px 24px;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=0049837f&scoped=true&\"\nimport script from \"./Setting.vue?vue&type=script&lang=js&\"\nexport * from \"./Setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Setting.vue?vue&type=style&index=0&id=0049837f&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0049837f\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","preventDefault","handleForm","apply","arguments","_v","directives","name","rawName","value","UserData","account","expression","domProps","target","composing","$set","countName","_e","_s","email","password","checkPassword","staticRenderFns","props","initialUserSetting","type","default","id","data","created","methods","fetchUserData","Toast","icon","title","watch","computed","component","ref","userData","handleAfterSubmit","isProcessing","getData","components","Navbar","SettingForm","console"],"sourceRoot":""}