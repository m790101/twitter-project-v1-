"use strict";(self["webpackChunktwitter_project_v1"]=self["webpackChunktwitter_project_v1"]||[]).push([[520],{9098:function(t,e,s){s.d(e,{Z:function(){return A}});var i=function(){var t=this,e=t._self._c;return e("section",[e("h4",{staticClass:"title"},[t._v("推薦跟隨")]),e("div",{staticClass:"section__panel"},t._l(t.users,(function(s){return e("div",{key:s.id,staticClass:"section__panel__account d-flex align-items-center"},[e("router-link",{attrs:{to:{name:"user-information",params:{id:s.id}}}},[e("img",{staticClass:"section__panel__account__avatar",attrs:{src:t._f("emptyImage")(s.image),alt:""}})]),e("div",{staticClass:"section__panel__account__content d-flex align-items-center justify-content-between"},[e("div",{staticClass:"section__panel__account__content__title d-flex flex-column justify-content-start"},[e("p",{staticClass:"fw-bold truncate"},[t._v(t._s(s.name))]),e("p",{staticClass:"section__panel__account__content__title__id fs-14 truncate"},[t._v(" @"+t._s(s.account)+" ")])]),e("div",{staticClass:"section__panel__account__content__btn-section d-flex"},[s.isFollowing?e("button",{staticClass:"btn-main",staticStyle:{width:"96px"},attrs:{disabled:t.isProcessing},on:{click:function(e){return t.removeFollowing(s.id)}}},[t._v(" 正在追蹤 ")]):e("button",{staticClass:"btn-white",attrs:{disabled:t.isProcessing},on:{click:function(e){return t.addFollowing(s.id)}}},[t._v("跟隨")])])])],1)})),0)])},a=[],n=(s(1703),s(9682)),c=s(6163),l=s(3459),r={data(){return{users:[],isProcessing:!1}},methods:{async fetchData(){try{const{data:t}=await n.Z.getUserTop();this.users=t}catch(t){c.F.fire({icon:"warning",title:"無法讀取使用者"})}},async addFollowing(t){try{this.isProcessing=!0;const{data:e}=await n.Z.addFollowing({id:t});if("success"!==e.status)return new Error;this.users=this.users.map((e=>e.id===t?{...e,isFollowing:!0}:e)),this.isProcessing=!1}catch(e){this.isProcessing=!1,c.F.fire({icon:"warning",title:"無法追蹤使用者"})}},async removeFollowing(t){try{this.isProcessing=!0;const{data:e}=await n.Z.removeFollowing(t);if("success"!==e.status)return new Error;this.users=this.users.map((e=>e.id===t?{...e,isFollowing:!1}:e)),this.isProcessing=!1}catch(e){this.isProcessing=!1,c.F.fire({icon:"warning",title:"無法追蹤使用者"})}}},created(){this.fetchData()},mixins:[l.L]},o=r,d=s(1001),_=(0,d.Z)(o,i,a,!1,null,"14d1bb6f",null),A=_.exports},8707:function(t,e,s){s.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("section",{staticClass:"reply-modal"},[e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content d-flex flex-column"},[e("div",{staticClass:"modal-header"},[e("img",{staticClass:"close",attrs:{src:s(3866),alt:""},on:{click:t.closeModal}})]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"modal-body__panel d-flex"},[e("img",{staticClass:"modal-body__panel__avatar",attrs:{src:t._f("emptyImage")(t.tweet.user.image),alt:""}}),e("div",{staticClass:"modal-body__panel__content"},[e("div",{staticClass:"modal-body__panel__content__title d-flex"},[e("p",{staticClass:"fw-bold modal-body__panel__content__title__name truncate"},[t._v(t._s(t.tweet.user.name))]),e("p",{staticClass:"fs-14 modal-body__panel__content__title__id"},[t._v("@"+t._s(t.tweet.user.account)+"．"),e("span",[t._v(t._s(t._f("fromNow")(t.tweet.createdAt)))])])]),e("div",{staticClass:"modal-body__panel__content__description"},[e("p",[t._v(" "+t._s(t.tweet.description)+" ")]),e("p",{staticClass:"fs-14 modal-body__panel__content__description__reply-to"},[t._v(" 回覆給 "),e("span",{staticClass:"modal-body__panel__content__description__reply-to__id"},[t._v("@"+t._s(t.tweet.user.account))])])])])]),e("div",{staticClass:"d-flex mt-5"},[e("img",{staticClass:"modal-body__avatar",attrs:{src:t.currentUser.image,alt:""}}),e("div",{},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"modal-body__textarea pt-2",attrs:{name:"",id:"",cols:"35",rows:"5",placeholder:"推你的回覆"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])])]),e("div",{staticClass:"modal-footer d-flex justify-content-end align-items-center"},[t.comment.trim().length<=0?e("div",{staticClass:"error-handler"},[t._v("內容不可為空白!")]):t._e(),e("button",{staticClass:"btn-main",staticStyle:{width:"66px"},attrs:{type:"button",disabled:t.isProcessing||t.comment.trim().length<=0},on:{click:function(e){return t.createReply(t.tweet.id)}}},[t._v(" 回覆 ")])])])])])},a=[],n=s(3459),c=s(8431),l=s(6163),r=s(3822),o={props:{initialTweet:{type:Object,required:!0}},data(){return{tweet:this.initialTweet,comment:"",isProcessing:!1}},mixins:[n.q,n.L],methods:{callModal(){this.isEditing=!0},closeModal(){this.$emit("closeReplyModal")},async createReply(t){try{this.isProcessing=!0;const e=await c.Z.createReply({comment:this.comment,tweet_id:t});this.$emit("closeReplyModal"),this.$emit("afterCreateReply",{id:e.data.id,comment:this.comment,user:{account:this.currentUser.account,image:this.currentUser.image,name:this.currentUser.name},createdAt:new Date}),this.isProcessing=!1}catch(e){this.isProcessing=!1,l.F.fire({icon:"warning",title:"無法新增推文"})}}},computed:{...(0,r.rn)(["currentUser","isAuthenticated"])}},d=o,_=s(1001),A=(0,_.Z)(d,i,a,!1,null,"144531bc",null),u=A.exports},332:function(t,e,s){s.d(e,{Z:function(){return r}});var i=function(){var t=this;t._self._c;return t._m(0)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"spinner"},[e("div",{staticClass:"bouncing-loader"},[e("div"),e("div"),e("div")])])}],n=s(1001),c={},l=(0,n.Z)(c,i,a,!1,null,"6b2e489c",null),r=l.exports},1410:function(t,e,s){s.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("section",[t._l(t.tweets,(function(i){return e("div",{key:i.id,staticClass:"tweet-card"},[e("div",{staticClass:"tweet-card__panel d-flex"},[e("router-link",{attrs:{to:{name:"user-information",params:{id:i.user.id||i.UserId}}}},[e("img",{staticClass:"tweet-card__panel__avatar",attrs:{src:t._f("emptyImage")(i.user.image),alt:""}})]),e("div",{staticClass:"tweet-card__panel__content"},[e("div",{staticClass:"tweet-card__panel__content__title d-flex"},[e("p",{staticClass:"tweet-card__panel__content__title__name truncate"},[t._v(" "+t._s(i.user.name)+" ")]),e("p",{staticClass:"tweet-card__panel__content__title__info"},[t._v(" @"+t._s(i.user.account)+"．"),e("span",[t._v(t._s(t._f("fromNow")(i.createdAt)))])])]),e("router-link",{attrs:{to:{name:"replyList",params:{id:i.id}}}},[e("div",{staticClass:"tweet-card__panel__content__text"},[t._v(" "+t._s(i.description)+" ")])]),e("div",{staticClass:"tweet-card__panel__content__icons-panel d-flex align-items-center"},[e("div",{staticClass:"tweet-card__panel__content__icons-panel__icon d-flex align-items-center cursor-pointer",on:{click:function(e){return t.callReplyModal(i)}}},[e("img",{staticClass:"icon",attrs:{src:s(4825),alt:""}}),e("span",{staticClass:"tweet-card__panel__content__icons-panel__icon__num"},[t._v(t._s(i.replyNum))])]),e("div",{staticClass:"tweet-card__panel__content__icons-panel__icon d-flex align-items-center cursor-pointer"},[i.isLiked?e("img",{staticClass:"icon",attrs:{src:s(1634),alt:""},on:{click:function(e){return t.unLike(i.id)}}}):e("img",{staticClass:"icon",attrs:{src:s(6317),alt:""},on:{click:function(e){return t.like(i.id)}}}),e("span",{staticClass:"tweet-card__panel__content__icons-panel__icon__num"},[t._v(t._s(i.likeNum))])])])],1)],1)])})),t.isReplying?e("ReplyModal",{attrs:{initialTweet:t.tweetEditing},on:{closeReplyModal:t.handleCloseReplyModal,afterCreateReply:t.handleAfterCreateReply}}):t._e(),e("div",{staticClass:"modal-bg",class:{active:t.isReplying}})],2)},a=[],n=(s(1703),s(8707)),c=s(8431),l=s(6163),r=s(3459),o={props:{initialTweets:{type:Array,required:!0}},data(){return{tweets:this.initialTweets,user:{id:1},isLiked:!1,isReplying:!1,tweetEditing:{}}},mixins:[r.q,r.L],components:{ReplyModal:n.Z},methods:{callReplyModal(t){this.isReplying=!0,this.tweetEditing={...t}},handleCloseReplyModal(){this.isReplying=!1},handleAfterCreateReply(t){this.tweets=this.tweets.map((e=>e.id===t.id?{...e,replyNum:e.replyNum+1}:e))},async like(t){try{const{data:e}=await c.Z.like({id:t});if("success"!==e.status)return new Error;this.tweets=this.tweets.map((e=>e.id===t?{...e,isLiked:!0,likeNum:e.likeNum+1}:e))}catch(e){l.F.fire({icon:"warning",title:"無法喜愛推文"})}},async unLike(t){try{const{data:e}=await c.Z.unLike({id:t});if("success"!==e.status)return new Error;this.tweets=this.tweets.map((e=>e.id===t?{...e,isLiked:!1,likeNum:e.likeNum-1}:e))}catch(e){l.F.fire({icon:"warning",title:"無法取消喜愛推文"})}}},watch:{initialTweets:function(){this.tweets=this.initialTweets}}},d=o,_=s(1001),A=(0,_.Z)(d,i,a,!1,null,"29ac779c",null),u=A.exports},3459:function(t,e,s){s.d(e,{L:function(){return c},q:function(){return n}});var i=s(6797),a=s.n(i);const n={filters:{fromNow(t){return t?a()(t).fromNow():"-"}}},c={filters:{emptyImage(t){return t||"https://i.imgur.com/mVOT0IN.png"}}}},4825:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATzSURBVHgB3VnLUhtHFL3dg2QTspD/QHxBRCWLLJIgnI13iGVWFhVIeYcWCcFWUQxFmUgkVRE7l7DLwxdYrLIikCq8NBFfYPkPlI0BjdQ3t0cSdI9m9B4x5bMATffMqI/Ovf04F+ATAYMx4EnGjNtRI4HIYzAEOIpK/fNG2TLNKgyJoYikTTM29TGaZgwXEViCXjIUATcQoMoBTlHgkT1jlwYhNhCRlZ93ktww1ugLUxAwJCkGrGSz620rZ1Z63d8XEalA9DK6RS/PwB2AIZjFvWfbXe+BHkj/8jwR4ewNfYz73ELysxKi+CA4VGBAcMEoLDFGI5knBRLgH6YVm9UW/NTpSuSn9d3HyMDy6KLB4yEyUXqZ2zyFMWJlYycJwqD8g8ce3RUwcOlgN1t2d/gSWf01twYgCp09uD8zbZuFEWaYfvBk47d4XaDpQahKZBbcZDyJkBIpUuKN68aKYI3lcSvQCyvruxkiswV6yFUpzObUMOsgkqZfIoJ4AkpOSBKc4vNFH7NHEFilPGWUp6jnacWeJjKtyODuh6KIf0KISEgc/J4t09qyBE5u3iAuZ9L2haYIMU8DZ6/VNoPVZu+ShIof13dSnBlayFO+zMl80RXhbEu9pJV7OywkJF7tbZYETTZaYwNkBN0qIldtZhgn7WsZUsX8s1kIGdIZMxa5F30PSvJTrjy4VYQbafUBJDUghLAKZhVRVyX6MZK5IUJT3KLSVz3IZS0IKeo1W1vfkLFFh4gMK9DmaVaCEEOqQsM/VZoSTUW4kdDuZOIfCDkEwIV67RChfIiD3lqGkAOFPkbe+vOF2mhH7QqEHAZ4EHHDCnhDOA4YBtfGyOETQTNHBPynNsoTIYQc9Xo9rl43FWFMk+n+FYSeCHJ9jO3Q0hKn1ogkIexgPKlettaRhkbE4HweQg73TOsQqV85RJTwwlSY80Qe/kiSpNLU3MY3N2JwpHTE5EYMQoopOsur1wzxSNn9Niy1kzZia2FURapBG1wt9Dm3rRsiTVNB24jF1KNkWEBHcXJ31LM7s+ThT1sQyafSziDSWSRHJTQhJtVwu50GWarOf7Xx/OykMvfNwwfk+H1908jg0VfffV95d3Z8AXcIxd1RjxtWMb95KD91bFFe5bMZQNSmY1r5LVLmzsJM5iqRkGekeLtNHsXbarSuOyFdPkHssdPv7eq/BgGHxGX0FFzrBrLGgmoW+lqmXcjIxyxs1A9f/hGs6+hlFjrfTn5CMZc1tbauLyLHwrgXMTmwNa/+dmGGCF8giDITt4vqqBUoaaALBgV3EcmLhNMOfWB143maIdtC/9KCF6ok/9KgXnG3WowfCQkD+sD52d/ld2+P97/89uGHHjUMFfcZvf787fER9AlpghiNyF/08ZGrq0rFnh+K+ewLv2eHqiFK65IGSfYlzHdXiVkH+afLvd7XVQUyGch7TvVyPKdgCEjrkv45lpFTxwA65Aiq6pKJ4ZdPfnAczkvjtfcPgvtFuRz0gbGUp9uQpBqI75XXd1VErk1UhzGhc1AD12KGUmRUtHzmArrWhiZw/7MhKmITJdKjOjzULNfGxFwUqQKt0P96k2Clmena7ChlvcAV6aUCTavLxb2nI3vNARMR8ZYK8c4+qcL18riqwwET0c7VzZaAqsMTdhrljFSbC6LEPZFZaxI1+rEqcnV1LePdFfPBqaDif9LLLdVhA3jbAAAAAElFTkSuQmCC"},1634:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAaCAYAAACkVDyJAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHMSURBVHgBvZbBdYJAEEBnF41X04HpQDvAErwpetAKjBWoHSQVyMGH3oIVxA40FYQOQi6+B8huZpAYIaDECP8CK+z+WdydHYCCYWkPXE2rc4A6SGkrlcqW6boFZ5Dtds3nXA3uObfK8/k6k9Dv9YZSygmKqtER5RrFg7jY6/VU5vtjYEyNDWxJgGnJMPREoez3q77jvMQ7JkQ4UQxjegxOiKdz74eBtjBQm5ql48xcd3ZJFvRHodvpfCqKIi/KggiZGkwEoBkGDLDXtD5eZpAvA/q8PLSOIWfQMQyu4WrcQAEIz2twpAYFwctlnJwQVSgQDkXCuc0FwBYKQjiOddgW3e7Hr8xye2zcFveHTyrECnIGZ2bSNRBKRdEhZzChr0LxAV/T3jFt1SAHKJFj/n2ge34SwQhygk6NE/kP+07nNUsC/wso2OLsGt/tyD7E/D9AoQ03hAvRirRPG2y5tIQQU7gRQsoRjRlxJL2IxxWdc0P4H8+47x7jP6bWNLhqN5JqmivAfm9lw0jsm5pL+d1dk12R9khW2u3U1HHTHlANQlKqSSCzTa5JxkwzdeExyICnaZMMVUHif3aVkKC6h6TxbBSUg7gaS4uFmWWcLx2EtsTgqhHvAAAAAElFTkSuQmCC"},6317:function(t){t.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=520.7e43eb35.js.map