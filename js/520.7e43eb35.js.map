{"version":3,"file":"js/520.7e43eb35.js","mappings":"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","sources":["webpack://twitter-project-v1/./src/components/PopularList.vue","webpack://twitter-project-v1/src/components/PopularList.vue","webpack://twitter-project-v1/./src/components/PopularList.vue?1fdc","webpack://twitter-project-v1/./src/components/PopularList.vue?920c","webpack://twitter-project-v1/./src/components/ReplyModal.vue","webpack://twitter-project-v1/src/components/ReplyModal.vue","webpack://twitter-project-v1/./src/components/ReplyModal.vue?4ca0","webpack://twitter-project-v1/./src/components/ReplyModal.vue?962c","webpack://twitter-project-v1/./src/components/Spinner.vue","webpack://twitter-project-v1/./src/components/Spinner.vue?b6e3","webpack://twitter-project-v1/./src/components/TweetList.vue","webpack://twitter-project-v1/src/components/TweetList.vue","webpack://twitter-project-v1/./src/components/TweetList.vue?e301","webpack://twitter-project-v1/./src/components/TweetList.vue?27b8","webpack://twitter-project-v1/./src/utils/mixins.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('h4',{staticClass:\"title\"},[_vm._v(\"推薦跟隨\")]),_c('div',{staticClass:\"section__panel\"},_vm._l((_vm.users),function(user){return _c('div',{key:user.id,staticClass:\"section__panel__account d-flex align-items-center\"},[_c('router-link',{attrs:{\"to\":{name:'user-information',params:{id:user.id}}}},[_c('img',{staticClass:\"section__panel__account__avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(user.image),\"alt\":\"\"}})]),_c('div',{staticClass:\"section__panel__account__content d-flex align-items-center justify-content-between\"},[_c('div',{staticClass:\"section__panel__account__content__title d-flex flex-column justify-content-start\"},[_c('p',{staticClass:\"fw-bold truncate\"},[_vm._v(_vm._s(user.name))]),_c('p',{staticClass:\"section__panel__account__content__title__id fs-14 truncate\"},[_vm._v(\" @\"+_vm._s(user.account)+\" \")])]),_c('div',{staticClass:\"section__panel__account__content__btn-section d-flex\"},[(user.isFollowing)?_c('button',{staticClass:\"btn-main\",staticStyle:{\"width\":\"96px\"},attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.removeFollowing(user.id)}}},[_vm._v(\" 正在追蹤 \")]):_c('button',{staticClass:\"btn-white\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.addFollowing(user.id)}}},[_vm._v(\"跟隨\")])])])],1)}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section>\n    <h4 class=\"title\">推薦跟隨</h4>\n    <div class=\"section__panel\">\n      <div class=\"section__panel__account d-flex align-items-center\" v-for=\"user in users\" :key=\"user.id\">\n        <router-link :to=\"{name:'user-information',params:{id:user.id}}\">\n        <img\n          :src=\"user.image| emptyImage\"\n          alt=\"\"\n          class=\"section__panel__account__avatar\"\n        />\n        </router-link>\n        \n        <div class=\"section__panel__account__content d-flex align-items-center justify-content-between\">\n          <div\n            class=\"\n              section__panel__account__content__title\n              d-flex\n              flex-column\n              justify-content-start\n            \"\n          >\n            <p class=\"fw-bold truncate\">{{user.name}}</p>\n            <p class=\"section__panel__account__content__title__id fs-14 truncate\">\n              @{{user.account}}\n            </p>\n          </div>\n          <div class=\"section__panel__account__content__btn-section d-flex\">\n            <button class=\"btn-main\" style=\"width: 96px\" v-if=\"user.isFollowing\" @click=\"removeFollowing(user.id)\" :disabled=\"isProcessing\">\n              正在追蹤\n            </button>\n            <button class=\"btn-white\" v-else @click=\"addFollowing(user.id)\" :disabled=\"isProcessing\">跟隨</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport userApi from \"./../apis/user\";\nimport { Toast } from \"./../utils/helpers\";\nimport{emptyImageFilter} from './../utils/mixins'\nexport default {\n  data() {\n    return {\n      users:[],\n      isProcessing:false\n    };\n  },\n  methods:{\n    async fetchData(){\n      try{\n        const {data} = await userApi.getUserTop()\n        this.users = data\n      }\n      catch(error){\n          Toast.fire({\n          icon: \"warning\",\n          title: \"無法讀取使用者\",\n        });\n      }\n    },\n        async addFollowing(id){\n      try{\n       this.isProcessing = true\n        const {data} = await userApi.addFollowing({id})\n        if(data.status !== 'success') return new Error\n        this.users = this.users.map(user=>{\n          if(user.id === id){\n            return {\n              ...user,\n              isFollowing:true\n            }\n          }\n          return user\n        })\n        this.isProcessing = false\n      }\n      catch(error){\n        this.isProcessing = false\n          Toast.fire({\n          icon: \"warning\",\n          title: \"無法追蹤使用者\",\n        });\n      }\n    },\n  async removeFollowing(id){\n      try{\n        this.isProcessing = true\n        const {data} = await userApi.removeFollowing(id)\n        if(data.status !== 'success') return new Error\n        this.users = this.users.map(user=>{\n          if(user.id === id){\n            return {\n              ...user,\n              isFollowing:false\n            }\n          }\n          return user\n        })\n        this.isProcessing = false\n      }\n      catch(error){\n        this.isProcessing = false\n          Toast.fire({\n          icon: \"warning\",\n          title: \"無法追蹤使用者\",\n        });\n      }\n    }\n  },\n  created(){\n    this.fetchData()\n  },\n  mixins:[emptyImageFilter]\n};\n</script>\n\n\n\n<style scoped lang=\"scss\">\nsection {\n  margin: 16px 0 0 24px;\n  background-color: var(--1-gray);\n  border-radius: 16px;\n  width: 273px;\n  height:100%;\n}\n.title {\n  padding: 24px 0 24px 24px;\n  border-bottom: 1px solid #e6ecf0;\n}\n.section__panel {\n  padding: 16px 16px 0 16px;\n  border-top: 1px solid var(--1-gray);\n   &__account {\n    margin-bottom:32px;\n    &__avatar {\n      width: 50px;\n      height: 50px;\n    }\n  }\n}\n\n.section__panel__account__content {\n  margin-left: 8px;\n  flex-grow: 1;\n  &__title__id {\n    color: var(--secondary-color);\n  }\n}\n.truncate{\n  white-space: nowrap; \n  width: 50px; \n  overflow: hidden;\n  text-overflow: ellipsis; \n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PopularList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PopularList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PopularList.vue?vue&type=template&id=14d1bb6f&scoped=true&\"\nimport script from \"./PopularList.vue?vue&type=script&lang=js&\"\nexport * from \"./PopularList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PopularList.vue?vue&type=style&index=0&id=14d1bb6f&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14d1bb6f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"reply-modal\"},[_c('div',{staticClass:\"modal\"},[_c('div',{staticClass:\"modal-content d-flex flex-column\"},[_c('div',{staticClass:\"modal-header\"},[_c('img',{staticClass:\"close\",attrs:{\"src\":require(\"./../assets/icon/close-orange.png\"),\"alt\":\"\"},on:{\"click\":_vm.closeModal}})]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"modal-body__panel d-flex\"},[_c('img',{staticClass:\"modal-body__panel__avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.tweet.user.image),\"alt\":\"\"}}),_c('div',{staticClass:\"modal-body__panel__content\"},[_c('div',{staticClass:\"modal-body__panel__content__title d-flex\"},[_c('p',{staticClass:\"fw-bold modal-body__panel__content__title__name truncate\"},[_vm._v(_vm._s(_vm.tweet.user.name))]),_c('p',{staticClass:\"fs-14 modal-body__panel__content__title__id\"},[_vm._v(\"@\"+_vm._s(_vm.tweet.user.account)+\"．\"),_c('span',[_vm._v(_vm._s(_vm._f(\"fromNow\")(_vm.tweet.createdAt)))])])]),_c('div',{staticClass:\"modal-body__panel__content__description\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.tweet.description)+\" \")]),_c('p',{staticClass:\"fs-14 modal-body__panel__content__description__reply-to\"},[_vm._v(\" 回覆給 \"),_c('span',{staticClass:\"modal-body__panel__content__description__reply-to__id\"},[_vm._v(\"@\"+_vm._s(_vm.tweet.user.account))])])])])]),_c('div',{staticClass:\"d-flex mt-5\"},[_c('img',{staticClass:\"modal-body__avatar\",attrs:{\"src\":_vm.currentUser.image,\"alt\":\"\"}}),_c('div',{},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comment),expression:\"comment\"}],staticClass:\"modal-body__textarea pt-2\",attrs:{\"name\":\"\",\"id\":\"\",\"cols\":\"35\",\"rows\":\"5\",\"placeholder\":\"推你的回覆\"},domProps:{\"value\":(_vm.comment)},on:{\"input\":function($event){if($event.target.composing)return;_vm.comment=$event.target.value}}})])])]),_c('div',{staticClass:\"modal-footer d-flex justify-content-end align-items-center\"},[(_vm.comment.trim().length <= 0)?_c('div',{staticClass:\"error-handler\"},[_vm._v(\"內容不可為空白!\")]):_vm._e(),_c('button',{staticClass:\"btn-main\",staticStyle:{\"width\":\"66px\"},attrs:{\"type\":\"button\",\"disabled\":_vm.isProcessing || _vm.comment.trim().length <= 0},on:{\"click\":function($event){return _vm.createReply(_vm.tweet.id)}}},[_vm._v(\" 回覆 \")])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"reply-modal\">\n    <div class=\"modal\">\n      <div class=\"modal-content d-flex flex-column\">\n        <div class=\"modal-header\">\n          <img\n            src=\"./../assets/icon/close-orange.png\"\n            alt=\"\"\n            class=\"close\"\n            @click=\"closeModal\"\n          />\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"modal-body__panel d-flex\">\n              <img\n                :src=\"tweet.user.image | emptyImage\"\n                alt=\"\"\n                class=\"modal-body__panel__avatar\"\n              />\n            <div class=\"modal-body__panel__content \">\n              <div\n                class=\"modal-body__panel__content__title d-flex \"\n              >\n                <p class=\"fw-bold modal-body__panel__content__title__name truncate\">{{tweet.user.name}}</p>\n                <p class=\"fs-14 modal-body__panel__content__title__id\">@{{tweet.user.account}}．<span>{{tweet.createdAt | fromNow}}</span></p>\n              </div>\n              <div class=\"modal-body__panel__content__description\">\n                <p>\n                  {{tweet.description}}\n                </p>\n                <p class=\"fs-14 modal-body__panel__content__description__reply-to\">\n                  回覆給\n                  <span class=\" modal-body__panel__content__description__reply-to__id\"\n                    >@{{tweet.user.account}}</span\n                  >\n                </p>\n              </div>\n            </div>\n          </div>\n          <div class=\"d-flex mt-5\">\n            <img\n              :src=\"currentUser.image\"\n              alt=\"\"\n              class=\"modal-body__avatar\"\n            />\n            <div class=\"\">\n              <textarea\n                name=\"\"\n                id=\"\"\n                cols=\"35\"\n                rows=\"5\"\n                placeholder=\"推你的回覆\"\n                class=\"modal-body__textarea pt-2\"\n                v-model=\"comment\"\n              >\n              </textarea>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer d-flex justify-content-end align-items-center\">\n          <div class=\"error-handler\" v-if=\"comment.trim().length <= 0\">內容不可為空白!</div>\n          <button type=\"button\" class=\"btn-main\" style=\"width: 66px\" @click=\"createReply(tweet.id)\" :disabled=\"isProcessing || comment.trim().length <= 0\">\n            回覆\n          </button>\n        </div>\n      </div>\n    </div>\n\n  </section>\n</template>\n\n\n<style lang=\"scss\" scoped>\n.modal {\n  width: 100%;\n  height: 100vh;\n  position: fixed;\n  left: 27%;\n  top: 74px;\n  z-index: 999;\n  &.active {\n    display: initial;\n  }\n\n  & .modal-content {\n    border-radius: 14px;\n    width: 634px;\n    height: 500px;\n    background-color: var(--white);\n    & .modal-header {\n      padding: 20px;\n      border-bottom: 1px solid var(--2-gray);\n    }\n    & .modal-footer {\n      border-top: 0;\n      padding-right: 16px;\n      margin: 16px 0;\n      background: white;\n    }\n  }\n}\n\n.modal-body {\n  flex: 1;\n  padding-top: 16px;\n  padding-left: 24px;\n  &__panel {\n      position: relative;\n      &::before{\n          content:'';\n          position:absolute;\n          top:calc(50px + 16px);\n          left:25px;\n          transform: translate(-50%,0);\n          width:2px;\n          height:calc(100% - 32px);\n          background-color:#CCD6DD;\n      }\n    &__avatar {\n      width: 50px;\n      height: 50px;\n    }\n     &__content{\n        margin-left:8px;\n        &__title{\n            &__name{\n                color: var(--black-color);\n            }\n            &__id{\n                margin-left:8px;\n                 color: var(--secondary-color);\n            }\n        }\n    &__description{\n        margin-top:10px;\n        color: var(--black-color);\n        width:90%;\n        overflow-wrap: anywhere;\n        &__reply-to{\n            margin-top:11px;\n            color: var(--secondary-color);\n            &__id{\n                color: var(--brand-color);\n            }\n        }\n    }\n     }\n  }\n  &__avatar {\n    width: 50px;\n    height: 50px;\n  }\n  &__textarea {\n    width: 100%;\n    font-size: 16px;\n    margin-left: 8px;\n    border: 0;\n    outline: none;\n  }\n}\n.close {\n  width: 15px;\n  height: 15px;\n  cursor: pointer;\n}\n\n.error-handler {\n  margin-right: 20px;\n  font-size: 12px;\n  color: var(--error-color);\n}\n\n.truncate{\n  white-space: nowrap; \n  max-width: 300px; \n  overflow: hidden;\n  text-overflow: ellipsis; \n}\n\n</style>\n\n\n<script>\nimport {fromNowFilter} from './../utils/mixins'\nimport tweetApi from \"./../apis/tweets\";\nimport { Toast } from \"./../utils/helpers\";\nimport {mapState} from 'vuex'\nimport {emptyImageFilter} from './../utils/mixins'\n\nexport default {\n  props:{\n    initialTweet:{\n      type:Object,\n      required:true\n    },\n  },\n  data() {\n    return {\n      tweet:this.initialTweet,\n      comment:'',\n      isProcessing:false\n    };\n  },\n  mixins:[fromNowFilter, emptyImageFilter],\n  methods: {\n    callModal() {\n      this.isEditing = true;\n    },\n    closeModal() {\n      this.$emit(\"closeReplyModal\");\n    },\n    async createReply(id){\n      try{\n        this.isProcessing = true\n              const response = await tweetApi.createReply({comment:this.comment,tweet_id:id})\n              // if(response.statusText !== 'OK')throw new Error\n              this.$emit(\"closeReplyModal\");\n              \n              this.$emit(\"afterCreateReply\",{\n                id:response.data.id,\n                comment:this.comment,\n                user:{\n                  account:this.currentUser.account,\n                  image:this.currentUser.image,\n                  name:this.currentUser.name\n                },\n                createdAt:new Date\n              });\n              this.isProcessing = false\n          }\n          catch(error){\n            this.isProcessing = false\n          Toast.fire({\n          icon: \"warning\",\n          title: \"無法新增推文\",\n        });\n    }\n  },\n  },\n  computed:{\n    ...mapState(['currentUser','isAuthenticated'])\n  }\n};\n</script>\n\n\n\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ReplyModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ReplyModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReplyModal.vue?vue&type=template&id=144531bc&scoped=true&\"\nimport script from \"./ReplyModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ReplyModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReplyModal.vue?vue&type=style&index=0&id=144531bc&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"144531bc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"spinner\"},[_c('div',{staticClass:\"bouncing-loader\"},[_c('div'),_c('div'),_c('div')])])\n}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Spinner.vue?vue&type=template&id=6b2e489c&scoped=true&\"\nvar script = {}\nimport style0 from \"./Spinner.vue?vue&type=style&index=0&id=6b2e489c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b2e489c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_vm._l((_vm.tweets),function(tweet){return _c('div',{key:tweet.id,staticClass:\"tweet-card\"},[_c('div',{staticClass:\"tweet-card__panel d-flex\"},[_c('router-link',{attrs:{\"to\":{ name: 'user-information', params: { id: tweet.user.id || tweet.UserId} }}},[_c('img',{staticClass:\"tweet-card__panel__avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(tweet.user.image),\"alt\":\"\"}})]),_c('div',{staticClass:\"tweet-card__panel__content\"},[_c('div',{staticClass:\"tweet-card__panel__content__title d-flex\"},[_c('p',{staticClass:\"tweet-card__panel__content__title__name truncate\"},[_vm._v(\" \"+_vm._s(tweet.user.name)+\" \")]),_c('p',{staticClass:\"tweet-card__panel__content__title__info\"},[_vm._v(\" @\"+_vm._s(tweet.user.account)+\"．\"),_c('span',[_vm._v(_vm._s(_vm._f(\"fromNow\")(tweet.createdAt)))])])]),_c('router-link',{attrs:{\"to\":{ name:'replyList', params: { id: tweet.id } }}},[_c('div',{staticClass:\"tweet-card__panel__content__text\"},[_vm._v(\" \"+_vm._s(tweet.description)+\" \")])]),_c('div',{staticClass:\"tweet-card__panel__content__icons-panel d-flex align-items-center\"},[_c('div',{staticClass:\"tweet-card__panel__content__icons-panel__icon d-flex align-items-center cursor-pointer\",on:{\"click\":function($event){return _vm.callReplyModal(tweet)}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"./../assets/icon/comments.png\"),\"alt\":\"\"}}),_c('span',{staticClass:\"tweet-card__panel__content__icons-panel__icon__num\"},[_vm._v(_vm._s(tweet.replyNum))])]),_c('div',{staticClass:\"tweet-card__panel__content__icons-panel__icon d-flex align-items-center cursor-pointer\"},[(!tweet.isLiked)?_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"./../assets/icon/like.png\"),\"alt\":\"\"},on:{\"click\":function($event){return _vm.like(tweet.id)}}}):_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"./../assets/icon/like-active.png\"),\"alt\":\"\"},on:{\"click\":function($event){return _vm.unLike(tweet.id)}}}),_c('span',{staticClass:\"tweet-card__panel__content__icons-panel__icon__num\"},[_vm._v(_vm._s(tweet.likeNum))])])])],1)],1)])}),(_vm.isReplying)?_c('ReplyModal',{attrs:{\"initialTweet\":_vm.tweetEditing},on:{\"closeReplyModal\":_vm.handleCloseReplyModal,\"afterCreateReply\":_vm.handleAfterCreateReply}}):_vm._e(),_c('div',{staticClass:\"modal-bg\",class:{ active: _vm.isReplying }})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section>\n    <div class=\"tweet-card\" v-for=\"tweet in tweets\" :key=\"tweet.id\">\n      <div class=\"tweet-card__panel d-flex\">\n        <router-link\n          :to=\"{ name: 'user-information', params: { id: tweet.user.id || tweet.UserId} }\"\n        >\n          <img\n            :src=\"tweet.user.image | emptyImage\"\n            alt=\"\"\n            class=\"tweet-card__panel__avatar\"\n          />\n        </router-link>\n\n        <div class=\"tweet-card__panel__content\">\n          <div class=\"tweet-card__panel__content__title d-flex\">\n            <p class=\"tweet-card__panel__content__title__name truncate\">\n              {{ tweet.user.name }}\n            </p>\n            <p class=\"tweet-card__panel__content__title__info\">\n              @{{ tweet.user.account }}．<span>{{tweet.createdAt | fromNow}}</span>\n            </p>\n          </div>\n          <router-link :to=\"{ name:'replyList', params: { id: tweet.id } }\">\n            <div class=\"tweet-card__panel__content__text\">\n             {{ tweet.description }}\n            </div>\n          </router-link>\n          <div\n            class=\"\n              tweet-card__panel__content__icons-panel\n              d-flex\n              align-items-center\n            \"\n          >\n            <div\n              class=\"\n                tweet-card__panel__content__icons-panel__icon\n                d-flex\n                align-items-center\n                cursor-pointer\n              \"\n              @click=\"callReplyModal(tweet)\"\n            >\n              <img src=\"./../assets/icon/comments.png\" alt=\"\" class=\"icon\" />\n              <span\n                class=\"tweet-card__panel__content__icons-panel__icon__num\"\n                >{{ tweet.replyNum }}</span\n              >\n            </div>\n            <div\n              class=\"\n                tweet-card__panel__content__icons-panel__icon\n                d-flex\n                align-items-center\n                cursor-pointer\n              \"\n            >\n              <img\n                src=\"./../assets/icon/like.png\"\n                alt=\"\"\n                class=\"icon\"\n                @click=\"like(tweet.id)\"\n                v-if=\"!tweet.isLiked\"\n              />\n              <img\n                src=\"./../assets/icon/like-active.png\"\n                alt=\"\"\n                class=\"icon\"\n                @click=\"unLike(tweet.id)\"\n                v-else\n              />\n              <span\n                class=\"tweet-card__panel__content__icons-panel__icon__num\"\n                >{{ tweet.likeNum }}</span\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ReplyModal \n    :initialTweet=\"tweetEditing\"\n    @closeReplyModal=\"handleCloseReplyModal\"\n    @afterCreateReply=\"handleAfterCreateReply\" \n    v-if=\"isReplying\"\n    />\n    <div class=\"modal-bg\" :class=\"{ active: isReplying }\"></div>\n  </section>\n</template>\n\n\n\n<style lang=\"scss\" scoped>\n.tweet-card {\n  position: relative;\n  width: 639px;\n  margin-top: 16px;\n  font-size: 15px;\n}\n.tweet-card__panel {\n  padding: 0px 0 17px 24px;\n  border-bottom: 1px solid #e6ecf0;\n  &__avatar {\n    width: 50px;\n    height: 50px;\n  }\n  &__content {\n    margin-left: 8px;\n    &__title {\n      margin-bottom: 8px;\n      &__name {\n        font-weight: 700;\n      }\n      &__info {\n        font-size: 14px;\n        margin-left: 8px;\n        color: var(--secondary-color);\n      }\n    }\n    &__text {\n      width:90%;\n      margin-bottom: 9px;\n      overflow-wrap: anywhere;\n\n    }\n    &__icons-panel__icon {\n      margin-right: 41px;\n      &__num {\n        color: var(--secondary-color);\n      }\n    }\n  }\n}\n.icon {\n  width: 13px;\n  height: 13px;\n  margin-right: 8px;\n}\n.modal-bg {\n  position: fixed;\n  background-color: rgba(0, 0, 0, 0.4);\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  display: none;\n  &.active {\n    display: initial;\n  }\n}\n.truncate{\n  white-space: nowrap; \n  max-width: 80px; \n  overflow: hidden;\n  text-overflow: ellipsis; \n}\n</style>\n\n\n<script>\nimport ReplyModal from \"./ReplyModal.vue\";\nimport tweetApi from \"./../apis/tweets\";\nimport { Toast } from \"./../utils/helpers\";\nimport {fromNowFilter, emptyImageFilter} from './../utils/mixins'\n\nexport default {\n  props: {\n    initialTweets: {\n      type: Array,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      tweets: this.initialTweets,\n      user: {\n        id: 1,\n      },\n      isLiked: false,\n      isReplying: false,\n      tweetEditing:{}\n    };\n  },\n  mixins:[fromNowFilter,emptyImageFilter],\n  components: {\n    ReplyModal,\n  },\n  methods: {\n    callReplyModal(tweet) {\n      this.isReplying = true;\n      this.tweetEditing = {\n        ...tweet\n      }\n    },\n    handleCloseReplyModal() {\n      this.isReplying = false;\n    },\n    handleAfterCreateReply(playLoad){\n      this.tweets = this.tweets.map(tweet=>{\n          if(tweet.id === playLoad.id){\n            return {\n              ...tweet,\n              replyNum: tweet.replyNum + 1\n            }\n          }\n          return tweet\n      })\n    },\n    async like(id) {\n      try {\n        const { data } = await tweetApi.like({ id });\n        if(data.status !== 'success')return new Error\n        this.tweets = this.tweets.map((tweet) => {\n          if (tweet.id === id) {\n            return (tweet = {\n              ...tweet,\n              isLiked: true,\n              likeNum: tweet.likeNum + 1,\n            });\n          }\n          return tweet;\n        });\n      } catch (error) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"無法喜愛推文\",\n        });\n      }\n    },\n    async unLike(id) {\n      try {\n        const { data } = await tweetApi.unLike({ id });\n         if(data.status !== 'success')return new Error\n        this.tweets = this.tweets.map((tweet) => {\n          if (tweet.id === id) {\n            return (tweet = {\n              ...tweet,\n              isLiked: false,\n              likeNum: tweet.likeNum - 1,\n            });\n          }\n          return tweet;\n        });\n      } catch (error) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"無法取消喜愛推文\",\n        });\n      }\n    },\n  },\n  watch: {\n    initialTweets: function () {\n      this.tweets = this.initialTweets;\n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TweetList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TweetList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetList.vue?vue&type=template&id=29ac779c&scoped=true&\"\nimport script from \"./TweetList.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetList.vue?vue&type=style&index=0&id=29ac779c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29ac779c\",\n  null\n  \n)\n\nexport default component.exports","import moment from 'moment'\nexport const fromNowFilter = {\n    filters:{\n        fromNow(dateTime){\n            if(!dateTime) return '-'\n            else {\n                return moment(dateTime).fromNow()\n            }\n        }\n    }\n}\n\nexport const emptyImageFilter = {\n    filters: {\n      emptyImage (src) {\n        return src || 'https://i.imgur.com/mVOT0IN.png'\n      }\n    }\n  }"],"names":["render","_vm","this","_c","_self","staticClass","_v","_l","users","user","key","id","attrs","name","params","_f","image","_s","account","isFollowing","staticStyle","isProcessing","on","$event","removeFollowing","addFollowing","staticRenderFns","data","methods","Toast","icon","title","created","mixins","component","require","closeModal","tweet","createdAt","description","currentUser","directives","rawName","value","comment","expression","domProps","target","composing","trim","length","_e","createReply","props","initialTweet","type","required","callModal","tweet_id","computed","_m","script","tweets","UserId","callReplyModal","replyNum","isLiked","unLike","like","likeNum","isReplying","tweetEditing","handleCloseReplyModal","handleAfterCreateReply","class","active","initialTweets","components","ReplyModal","watch","fromNowFilter","filters","fromNow","dateTime","moment","emptyImageFilter","emptyImage","src"],"sourceRoot":""}